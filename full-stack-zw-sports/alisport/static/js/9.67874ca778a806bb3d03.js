webpackJsonp([9],{357:function(t,e,a){function i(t){a(424)}var s=a(126)(a(426),a(427),i,"data-v-e5c7fff2",null);t.exports=s.exports},375:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAgtJREFUWIXt1ztrFGEYhuErBxVFQUGbrewELRfUQkEQPIBiPGEjBpIgKmJhYauInY1FEJRoPKBBEBQlmEBAEH+CB/wFBmwEjahEYvElknyTmewuk5kgc8Oyy7MM3OzOPO/7UVFRUQFt9Xq9leu2YhAbcR1X8lNKp72Fa3ZgDJuxCpexKU+pNJqV3YlXWBPly/LRyaYZ2V0Yweoof4B3eQll0ajsbgwLf/tsHqEnV6MMGpHdgxeSovfRjT95S6WxkOw+PJcUHUSvAkXJlt0viK6M8gEliJIue1AQXRHlt3AaU4splcZ8sl14iuVRfhNnlSRKUvYonkiK9uO8EkWZK3scQ5KiN3BByaLQOf1+QujMjuj7O7iKtUVKRUzhK2GRSRNdSoyjp61er3/B+rJtGuBzK1tXabQLT3nhBd8k4+jtFKqqHQ8l79sBXCpYLObfAzbTBkOYxONZGfThOy5aAtXVUavVZj5/mH51mfsLb8c6jBarlmS2LHzEexw2V3gbNginhNKYrw2e4Rh+R/k5YT9oW2ypNNKq6yWO4FeUn8FtJQln9eywcP/+jPI+oSUKn3gLDYURQfhHlPcIe0Ohwo1MsFEckhTuxj0FCjc6bsdwQFL4JO7mapRBM7vBa+FcNhHlp7AlN6MMml1k3ggn3m9RPpmPTjatbF1vsVeYdhO4hk95SlVUVFT8R/wFRURXGecH2+wAAAAASUVORK5CYII="},379:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{areaList:[]}},methods:{showNearList:function(t){this.areaList=t.regeocode.pois},getAddressInfo:function(t,e){var a=this;$.ajax({type:"GET",url:"https://restapi.amap.com/v3/geocode/regeo",dataType:"JSON",data:{output:"JSON",location:t+","+e,key:"5b384bd6b1c25c86a18cdef18c82c679",radius:10,extensions:"base"},success:function(i){a.chooseMapCallback&&a.chooseMapCallback(i,t,e)}})},showMap:function(){var t,e=this,a=!0;this.cmFun.getLocation(function(i){e.lng=i.coords.longitude,e.lat=i.coords.latitude,t=[i.coords.longitude,i.coords.latitude],a=!1}),this.isMapShow=!0;var i=this;AMapUI.loadUI(["misc/PositionPicker"],function(t){function e(t){t.poi&&t.poi.location&&(a.setZoom(15),a.setCenter(t.poi.location),marker.setPosition(new AMap.LngLat(t.poi.location.lng,t.poi.location.lat)))}var a=new AMap.Map("map",{zoom:16,scrollWheel:!1}),s=new t({mode:"dragMap",map:a});s.start(),a.panBy(0,1),s.on("success",function(t){console.log(t),i.showNearList(t)});var n=new AMap.Autocomplete({input:"searchkey"});AMap.event.addListener(n,"select",e);a.on("click",function(t){var e=t.lnglat.getLng(),a=t.lnglat.getLat();$.ajax({type:"GET",url:"https://restapi.amap.com/v3/geocode/regeo",dataType:"JSON",data:{output:"JSON",location:e+","+a,key:"5b384bd6b1c25c86a18cdef18c82c679",radius:10,extensions:"base"},success:function(t){i.chooseMapCallback&&i.chooseMapCallback(t,e,a)}})})})}}}},391:function(t,e){t.exports="data:image/png;base64,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"},424:function(t,e,a){var i=a(425);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(350)("4edd8733",i,!0)},425:function(t,e,a){e=t.exports=a(349)(!1),e.push([t.i,".sort input[data-v-e5c7fff2]{text-align:right;padding-right:.5rem;height:2rem;font-size:1rem;border:none;color:#666;float:right;margin-top:.15rem;margin-right:.5rem}.shade-panel[data-v-e5c7fff2]{z-index:20!important}.charge[data-v-e5c7fff2]{float:left;text-align:left}.charge span[data-v-e5c7fff2]{font-size:.8rem;color:#666}.charge input[data-v-e5c7fff2]{height:2rem;font-size:.8rem;width:100%;border:1px solid #e7e7e7!important;padding-right:0!important;padding-left:.5rem;text-align:left!important}.upimg[data-v-e5c7fff2]{left:0;top:0;background:#fff;background-image:url("+a(391)+');background-repeat:no-repeat;background-position:0 50%}.upimg.none[data-v-e5c7fff2]{width:19.3rem;height:10rem}.fee input[data-v-e5c7fff2]{text-align:left;padding-left:1rem}.fee img[data-v-e5c7fff2]{width:1.5rem}.key[data-v-e5c7fff2]{font-size:.9rem!important}.address[data-v-e5c7fff2]{overflow:hidden;border-bottom:1px solid #e7e7e7!important}.address[data-v-e5c7fff2]:after{content:">";display:block;width:.5rem;height:1rem;line-height:1rem;position:absolute;color:#666;top:.9rem;right:.9rem;-webkit-transform:scale(.9,1.7);transform:scale(.9,1.7)}.address input[data-v-e5c7fff2]{width:21.5rem;font-size:.8rem;padding-right:1rem}',""])},426:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(127),n=i(s),r=a(91),o=i(r),l=a(379),A=i(l),c=function(t){return 1==(t+"").length?"0"+t:t},m=function(t){var e=new Date(t);return c(e.getFullYear())+"-"+c(e.getMonth()+1)+"-"+c(e.getDate())+" "+c(e.getHours())+":"+c(e.getMinutes())};e.default={name:"addActi",mixins:[A.default],filters:{time:function(t){return t},address:function(t){return t.length>25?t.substr(0,25)+"...":t}},data:function(){return{team:{image:"",joinway:0,events:[],keys:[],tags:[],address:"",startDate:"",endDate:"",matchStartDate:"",matchEndDate:""},areaList:[],tags:[],showDate:!1,newTag:"",time:null,timeInput:null,newChargeKey:"",newCharge:"",key:[{key:"name",str:"真实姓名"},{key:"sex",str:"性别"},{key:"mobile",str:"手机号"},{key:"email",str:"邮箱"},{key:"country",str:"国籍"},{key:"city",str:"城市"},{key:"address",str:"详细地址"},{key:"blood",str:"血型"},{key:"birth",str:"出生日期"},{key:"cardType",str:"证件类型"},{key:"cardno",str:"证件号"},{key:"clothSize",str:"服装尺码"},{key:"contact",str:"紧急联系人"},{key:"contactNumber",str:"紧急联系人电话"},{key:"raceCert",str:"完赛证明"},{key:"healthCert",str:"健康证明"}],feeNames:[],id:this.$route.query.id,groupId:this.$route.query.groupId,isMapShow:!1}},mounted:function(){var t=this;this.$nextTick(function(){t.cmFun.ajax("GET","/active/detail/"+t.id+"/"+localStorage.aliSportUserId,{},function(e){t.allData=e.data,t.team=e.data.active,t.team.matchStartDate=m(t.team.matchStartDate),t.team.matchEndDate=m(t.team.matchEndDate),t.team.startDate=m(t.team.startDate),t.team.endDate=m(t.team.endDate);var a=JSON.parse(t.team.userKeys).map(function(t){return t.key});t.team.keys=t.key.map(function(e){return a.indexOf(e.key)>-1?t.$set(e,"isChoose",!0):t.$set(e,"isChoose",!1),e})});var e=t,a=function(t,e){return{trigger:"#"+t,type:"datetime",minDate:"2010-1-1",maxDate:"2099-1-1",onSubmit:function(){e&&e(this.value)},onClose:function(){}}};(new datePicker).init(a("matchStartDate")),(new datePicker).init(a("matchEndDate",function(t){new Date(t).getTime()<=new Date(e.team.matchStartDate).getTime()&&(alert("活动结束时间须大于开始时间"),setTimeout(function(){e.team.matchEndDate=""},0))})),(new datePicker).init(a("startDate",function(t){new Date(t).getTime()>=new Date(e.team.matchStartDate).getTime()&&(alert("报名开始时间须小于活动开始时间"),setTimeout(function(){e.team.startDate=""},0))})),(new datePicker).init(a("endDate",function(t){new Date(t).getTime()>=new Date(e.team.matchStartDate).getTime()&&(alert("报名结束时间须小于活动开始时间"),setTimeout(function(){e.team.endDate=""},0)),new Date(t).getTime()<=new Date(e.team.startDate).getTime()&&(alert("报名结束时间须大于开始时间"),setTimeout(function(){e.team.endDate=""},0))}))})},methods:{upImg:function(t){var e=this;this.cmFun.upFile(t,"",function(t){1!=t.code&&alert(t.msg),1==t.code&&(e.team.image=t.data)})},changeFee:function(){var t=this.newChargeKey.trim();return""==t||""==this.newCharge.trim()?void alert("规格名称或者费用不能为空"):isNaN(parseFloat(this.newCharge.trim()))?void alert("费用应为数字"):this.feeNames.indexOf(t)>=0?void alert("已存在该项目"):(this.feeNames.push(t),this.team.events||(this.team.events=[]),void this.team.events.push({name:this.newChargeKey,fee:this.newCharge,userId:localStorage.aliSportUserId}))},submit:function(){var t=this;if(this.testRule()){var e=o.default.extend(!0,{},this.team),a={};a.userId=localStorage.aliSportUserId,a.groupId=this.groupId,a.id=this.id;var i=e.keys.filter(function(t,e){return 1==t.isChoose});i.map(function(t){return delete t.isChoose,t}),a.keys=(0,n.default)(i),a.startDate=Date.parse(new Date(e.startDate)),a.endDate=Date.parse(new Date(e.endDate)),a.matchStartDate=Date.parse(new Date(e.matchStartDate)),a.matchEndDate=Date.parse(new Date(e.matchEndDate)),a.address=e.address,a.image=e.image,a.joinway=e.joinway;var s=e.tags.map(function(t){return{tag:t.tag}});console.log("newTags"),console.log((0,n.default)(s)),a.tags=(0,n.default)(s),a.name=e.name,a.maxPerson=e.maxPerson,a.detail=e.detail,a.declaration=e.declaration,console.log(a),this.cmFun.ajax("post","/active/save",a,function(e){if(1!=e.code)return void alert(e.msg);alert("修改成功~"),t.$router.push({path:"/activityDetail",query:{id:t.id,groupId:t.groupId}})})}},del:function(t){this.team.events.splice(t,1),this.feeNames.splice(t,1)},addTag:function(){var t=this.newTag.replace(/\s+/g,"");if(""!=t){if(t.length>5)return void alert("标签长度不能大于5");this.team.tags.map(function(t){return t.tag}).indexOf(t)<0?(this.team.tags.push({tag:t}),this.newTag=""):alert("已存在")}},delTag:function(t){this.team.tags.splice(t,1)},goBack:function(){window.history.go(-1)},timeChange:function(t){this.time=t,this.team[this.timeInput]=t,this.showDate=!1},changeChoose:function(t){1==this.team[t]?this.team[t]=0:this.team[t]=1},chooseMapCallback:function(t,e,a){var i=t.regeocode.addressComponent,s={longitude:e,latitude:a,province:i.province,city:"string"==typeof i.city?i.city:"",area:i.district,address:t.regeocode.formatted_address};(0,o.default)(".amap-sug-result").remove(),this.team.address=s.address,this.team.longitude=s.longitude,this.team.latitude=s.latitude,this.isMapShow=!1},testRule:function(){return this.team.name=this.team.name.trim()||"",this.team.maxPerson=(this.team.maxPerson+"").trim()||"",this.team.declaration=this.team.declaration.trim()||"",""==this.team.image?(alert("没传图片"),!1):""==this.team.name?(alert("名称不能为空"),!1):""==this.team.address?(alert("没选择地址"),!1):""==this.team.startDate?(alert("请选择开始时间"),!1):""==this.team.endDate?(alert("请选择结束时间"),!1):""==this.team.matchStartDate?(alert("请选择报名开始时间"),!1):""==this.team.matchEndDate?(alert("请选择报名结束时间"),!1):this.team.maxPerson+""==""||isNaN(this.team.maxPerson-0)||(this.team.maxPerson-0)%1>0?(alert("人员上限有误"),!1):this.team.tags&&0!=this.team.tags.length?this.team.keys&&0!=this.team.keys.length?""!=this.team.declaration||(alert("免责声明不能为空"),!1):(alert("没选择报名字段"),!1):(alert("标签没添加"),!1)}}}},427:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"addActivity"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMapShow,expression:"!isMapShow"}]},[i("div",{staticClass:"form"},[i("div",{staticClass:"row"},[i("label",[t._v("活动封面")]),i("div",{staticClass:"img"},[i("img",{staticClass:"upimg",class:t.team.image?"":"none",attrs:{src:t.team.image}}),i("input",{staticClass:"up-file",attrs:{type:"file",id:"file"},on:{change:function(e){t.upImg("file")}}})])]),i("div",{staticClass:"row"},[i("label",[t._v("名称")]),i("div",{staticClass:"fr"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.team.name,expression:"team.name"}],attrs:{placeholder:"活动名称",type:"text"},domProps:{value:t.team.name,value:t.team.name},on:{input:function(e){e.target.composing||(t.team.name=e.target.value)}}})])]),i("div",{staticClass:"row address",on:{click:t.showMap}},[i("label",[t._v("地址")]),i("div",{staticClass:"fr"},[i("input",{attrs:{placeholder:"地址",type:"text",readonly:"readonly"},domProps:{value:t._f("address")(t.team.address)}})])])]),i("div",{staticClass:"sort",on:{click:function(e){t.showDate=!0,t.timeInput="startDate"}}},[i("label",[t._v("报名开始时间")]),i("span"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.team.startDate,expression:"team.startDate"}],attrs:{placeholder:"选择时间",type:"text",readonly:"readonly",id:"startDate"},domProps:{value:t._f("time")(t.team.startDate),value:t.team.startDate},on:{input:function(e){e.target.composing||(t.team.startDate=e.target.value)}}})]),i("div",{staticClass:"sort",on:{click:function(e){t.showDate=!0,t.timeInput="endDate"}}},[i("label",[t._v("报名结束时间")]),i("span"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.team.endDate,expression:"team.endDate"}],attrs:{placeholder:"选择时间",type:"text",readonly:"readonly",id:"endDate"},domProps:{value:t._f("time")(t.team.endDate),value:t.team.endDate},on:{input:function(e){e.target.composing||(t.team.endDate=e.target.value)}}})]),i("div",{staticClass:"sort",on:{click:function(e){t.showDate=!0,t.timeInput="matchStartDate"}}},[i("label",[t._v("活动开始时间")]),i("span"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.team.matchStartDate,expression:"team.matchStartDate"}],attrs:{placeholder:"选择时间",type:"text",readonly:"readonly",id:"matchStartDate"},domProps:{value:t._f("time")(t.team.matchStartDate),value:t.team.matchStartDate},on:{input:function(e){e.target.composing||(t.team.matchStartDate=e.target.value)}}})]),i("div",{staticClass:"sort",on:{click:function(e){t.showDate=!0,t.timeInput="matchEndDate"}}},[i("label",[t._v("活动结束时间")]),i("span"),i("input",{directives:[{name:"model",rawName:"v-model",value:t.team.matchEndDate,expression:"team.matchEndDate"}],attrs:{placeholder:"选择时间",type:"text",readonly:"readonly",id:"matchEndDate"},domProps:{value:t._f("time")(t.team.matchEndDate),value:t.team.matchEndDate},on:{input:function(e){e.target.composing||(t.team.matchEndDate=e.target.value)}}})]),i("div",{staticClass:"form"},[i("div",{staticClass:"row"},[i("label",[t._v("活动人员上限")]),i("div",{staticClass:"fr"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.team.maxPerson,expression:"team.maxPerson"}],attrs:{placeholder:"请输入人员上限数量",type:"text",value:"team.maxPerson"},domProps:{value:t.team.maxPerson},on:{input:function(e){e.target.composing||(t.team.maxPerson=e.target.value)}}})])]),i("div",{staticClass:"row"},[t._m(0),i("div",{staticClass:"fr"},[i("div",{staticClass:"switch",class:1==t.team.joinway?"sure":"",on:{click:function(e){t.changeChoose("joinway")}}})])]),i("div",{staticClass:"row"},[i("label",[t._v("标签")]),i("div",{staticClass:"tag"},[t._l(t.team.tags,function(e,a){return i("div",{staticClass:"tag-box"},[i("span",[t._v(t._s(e.tag))]),i("div",{staticClass:"x",on:{click:function(e){t.delTag(a)}}},[t._v("x")])])}),i("div",{staticClass:"add-tag"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newTag,expression:"newTag"}],attrs:{type:"text",placeholder:"标签"},domProps:{value:t.newTag,value:t.newTag},on:{input:function(e){e.target.composing||(t.newTag=e.target.value)}}}),i("div",{staticClass:"add",on:{click:t.addTag}},[t._v("贴上")])])],2)]),t._m(1),i("div",{staticClass:"row",staticStyle:{padding:"0 0.5rem 0.5rem"}},[t._m(2),i("table",{staticClass:"fee"},t._l(t.team.events,function(t,e){return i("tr",[i("td",{staticStyle:{width:"50%"}},[i("input",{attrs:{type:"text",readonly:"readonly"},domProps:{value:t.name}})]),i("td",{staticStyle:{width:"30%"}},[i("input",{attrs:{type:"text",readonly:"readonly"},domProps:{value:t.fee}})])])}))]),i("div",{staticClass:"row"},[i("label",[t._v("报名字段")]),i("div",{staticStyle:{"margin-top":"2rem","text-align":"left",overflow:"hidden"}},t._l(t.team.keys,function(e){return i("div",{staticClass:"key",class:e.isChoose?"choose":"",on:{click:function(t){e.isChoose=!e.isChoose}}},[t._v(t._s(e.str))])}))]),i("div",{staticClass:"row"},[i("label",[t._v("活动详情")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.team.detail,expression:"team.detail"}],attrs:{placeholder:"免责声明"},domProps:{value:t.team.detail,value:t.team.detail},on:{input:function(e){e.target.composing||(t.team.detail=e.target.value)}}})]),i("div",{staticClass:"row"},[i("label",[t._v("免责声明")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.team.declaration,expression:"team.declaration"}],attrs:{placeholder:"免责声明"},domProps:{value:t.team.declaration,value:t.team.declaration},on:{input:function(e){e.target.composing||(t.team.declaration=e.target.value)}}})]),i("div",{staticClass:"submit",on:{click:t.submit}},[t._v("确认修改")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isMapShow,expression:"isMapShow"}],staticClass:"map-ctn"},[i("div",{staticClass:"page-title"},[i("img",{staticClass:"back",attrs:{src:a(375)},on:{click:function(e){t.isMapShow=!1}}}),t._v("地图")]),i("div",{staticClass:"map"},[i("div",{attrs:{id:"map"}}),i("div",{staticClass:"area-list"},t._l(t.areaList,function(e,a){return i("div",{staticClass:"item",on:{click:function(a){t.getAddressInfo(e.location.lng,e.location.lat)}}},[i("div",{staticClass:"name"},[t._v(t._s(e.name))]),i("div",{staticClass:"address"},[t._v(t._s(e.address))])])}))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[t._v("是否公开报名"),a("div",[t._v("(公开报名后，非本团人员也可报名)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{"border-bottom":"none"}},[a("label",[t._v("活动费用")]),a("div",{staticClass:"fr"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"charge",staticStyle:{width:"50%","margin-right":"1rem"}},[a("span",[t._v("规格名称")])]),a("div",{staticClass:"charge",staticStyle:{width:"30%"}},[a("span",[t._v("费用/元")])])])}]}}});