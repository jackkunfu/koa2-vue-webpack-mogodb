webpackJsonp([8],{169:function(e,t,l){var n=l(67)(l(189),l(230),null,null);e.exports=n.exports},189:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(22),a=l.n(n),i=l(21),r=l.n(i),o=l(20),c=l.n(o),s=[{label:"一级 1",id:0,children:[{label:"二级 1-1",id:1}]},{label:"一级 2",children:[{label:"二级 2-1",url:"index",id:3},{label:"二级 2-2"}]},{label:"一级 3",id:4,children:[{label:"二级 3-1",id:5},{label:"二级 3-2",id:6}]}];t.default={data:function(){return{entryData:null,curUpdate:{id:null,name:"",url:""},curOriData:null,newLevelOne:{label:"",id:0,children:[]},defaultProps:{children:"children",label:"label"}}},filters:{delBlank:function(e){return e.replace(/\s+/g,"")}},mounted:function(){this.$store.state.topTip="入口目录管理",this.entryData=s,this.$nextTick(function(){})},methods:{handleNodeClick:function(e){},levelOneOk:function(){this.entryData.push(this.newLevelOne)},updateOk:function(e){console.log(e),this.curOriData=this.curUpdate},updateCancel:function(e){c()(".edit-ctn").hide(),this.curOriData=null},renderContent:function(e,t){var l,n=this,a=t.node,i=t.data,r=t.store;return 1==a.level&&(l=e("el-button",{attrs:{size:"mini"},on:{click:function(e){return n.append(a,r,i,e)}}},["增加子集"])),e("span",null,[e("span",null,[e("span",null,[a.label])]),e("span",{style:"float: right; margin-right: 20px"},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return n.edit(a,r,i,e)}}},["编辑"]),l,e("el-button",{attrs:{size:"mini"},on:{click:function(e){return n.remove(a,r,i,e)}}},["删除"])])])},getData:function(){var e=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._apiData.userList();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,e)}))()},append:function(e,t,l,n){console.log(e.data),e.expanded=!0,l.children.push({label:"新增",url:null}),n.stopPropagation()},remove:function(e,t,l,n){if(n.stopPropagation(),console.log(l),1==e.level){if(1==this.entryData.length)return void(this.entryData=[]);var a=this.selfUtil.objIndexOfArr(l,this.entryData,"label",e.label);console.log(a),console.log(e.label),a>-1&&this.entryData.splice(a,1)}else if(2==e.level){var i=e.parent.data.children;if(1==i.length)return void(i=[]);var r=this.selfUtil.objIndexOfArr(l,e.parent.data.children,"label",e.label);i.splice(r,1)}else consoel.log("")},edit:function(e,t,l,n){console.log(e),console.log(t),console.log(l),n.stopPropagation(),c()(".edit-ctn").show(),this.curUpdate=c.a.extend(!0,{},l),this.curUpdate.title=this.curUpdate.label,this.curOriData=l}}}},230:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-col",[l("el-tree",{ref:"tree",attrs:{data:e.entryData,props:e.defaultProps,"node-key":"id","render-content":e.renderContent},on:{"node-click":e.handleNodeClick}}),e._v(" "),l("div",{staticClass:"add-level-one",staticStyle:{margin:"20px"}},[l("div",[e._v("新增一级目录")]),e._v(" "),l("el-form",{staticStyle:{width:"50%",padding:"20px"},attrs:{"label-width":"80px",model:e.newLevelOne}},[l("el-form-item",{attrs:{label:"一级名称"}},[l("el-input",{model:{value:e.newLevelOne.label,callback:function(t){e.newLevelOne.label=t},expression:"newLevelOne.label"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"跳转路径"}},[l("el-input",{model:{value:e.newLevelOne.url,callback:function(t){e.newLevelOne.url=t},expression:"newLevelOne.url"}})],1),e._v(" "),l("el-button",{staticStyle:{margin:"0 50px 30px 80px"},on:{click:e.levelOneOk}},[e._v("新增一级")])],1)],1),e._v(" "),l("div",{staticClass:"edit-ctn",staticStyle:{margin:"20px",display:"none"}},[l("div",[e._v("编辑"+e._s(e.curUpdate.title))]),e._v(" "),l("el-form",{staticStyle:{width:"50%",padding:"20px"},attrs:{"label-width":"80px",model:e.curUpdate}},[l("el-form-item",{attrs:{label:"名称"}},[l("el-input",{model:{value:e.curUpdate.label,callback:function(t){e.curUpdate.label=t},expression:"curUpdate.label"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"跳转路径"}},[l("el-input",{model:{value:e.curUpdate.url,callback:function(t){e.curUpdate.url=t},expression:"curUpdate.url"}})],1),e._v(" "),l("el-button",{staticStyle:{margin:"0 50px 30px 80px"},on:{click:function(t){e.updateOk(e.curUpdate.id)}}},[e._v("确定")]),e._v(" "),l("el-button",{staticStyle:{margin:"0 50px 30px 80px"},on:{click:function(t){e.updateCancel(e.curUpdate.id)}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]}}});